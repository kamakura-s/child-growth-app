# すくすくノート（子どもの成長記録アプリ）

ローカル（HTML / CSS / JavaScript）だけで動く、子どもの成長記録アプリです。  
データはブラウザの `localStorage` に保存されます。

## 主な機能

- **SPAタブUI**（プロフィール / 成長記録 / 日記 / グラフ / 設定）
- 初回オンボーディング（3ステップ、初回のみ表示）
- 保存ステータス表示（保存中 / 保存済み / エラー）
- 表示テーマ切替（ライト / ダーク、設定で保存）
- 子どもプロフィール登録（名前・生年月日・メモ）
- 身長 / 体重の記録（日時・メモ）
- **連続入力モード**（成長記録フォーム保存後にリセットしない）
- 写真付き日記メモ
- 記録一覧表示（成長記録 / 日記）
- 簡易グラフ（Canvas: 身長 / 体重推移）
- 空状態ガイド（次に何をすればよいかを案内）
- 個別削除・全データ削除
- 設定画面からの **JSONエクスポート / インポート**

## データ仕様

`localStorage` の保存キー:

- 本体データ: `childGrowthMvpData`
- オンボーディング既読フラグ: `childGrowthOnboardingSeen`

保存データは以下の形式です（schemaVersion 付き）:

```json
{
  "schemaVersion": 1,
  "profile": { "name": "...", "birthDate": "YYYY-MM-DD", "note": "..." },
  "growthRecords": [
    { "id": "...", "date": "YYYY-MM-DD", "height": 92.4, "weight": 13.6, "memo": "..." }
  ],
  "diaries": [
    { "id": "...", "date": "YYYY-MM-DD", "title": "...", "text": "...", "photoDataUrl": "data:image/..." }
  ],
  "ui": {
    "continuousGrowthInput": false,
    "largeText": false,
    "theme": "light"
  }
}
```

※ 旧データ（schemaVersionなし）も読み込み互換があります。

## エラーハンドリング

- localStorage保存失敗（容量超過など）時のエラーメッセージ表示
- 保存ステータスにエラー表示
- JSONインポート時の形式検証（必須項目/型チェック）
- JSONパース失敗時のメッセージ表示
- 画像読み込み失敗時のメッセージ表示

## 使い方

1. `index.html` をブラウザで開く
2. 初回はオンボーディングを確認して開始
3. タブを切り替えて入力
4. 設定タブからJSONバックアップ/復元

## デザイン改善（2026-02-24）

今回の更新では、機能を維持したまま見た目と使いやすさを改善しました。

- **インポート/エクスポートをカード化**
  - 設定タブのデータ管理を「📤エクスポート」「📥インポート」の2カードに整理
  - 説明文を追加して、操作意図が一目で分かる構成に変更
- **ボタン優先度デザインを導入**
  - `btn-primary`（主要操作）
  - `btn-secondary`（補助操作）
  - `btn-danger`（危険操作）
  - 削除/全データ削除/オンボーディング操作を優先度に応じて統一
- **レイアウト整理**
  - 各セクションの余白・カード内スペース・視線導線を調整
  - 設定の危険操作を「danger-zone」として分離し誤操作を抑制
- **モバイル最適化**
  - 小画面でカード・リストを1カラム化
  - タブを上部sticky化して移動しやすく改善
  - 小画面でボタン配置を崩れにくく調整
- **既存機能互換**
  - `id` や JSイベント紐付け要素は維持し、保存・読込・インポート/エクスポート・削除・タブ切替などの既存機能を壊さないように実装

## 注意

- ブラウザを変えるとデータは共有されません
- localStorage容量を超えると画像保存に失敗する場合があります
- MVPのため、認証・クラウド同期は未実装です
