<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>すくすくノート | 子どもの成長記録</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="bg-decor" aria-hidden="true"></div>

  <header class="container hero">
    <div>
      <h1>すくすくノート</h1>
      <p class="subtitle">子どもの成長を、写真・体格・メモでやさしく記録</p>
      <p class="privacy-note">🔒 このアプリのデータはこのブラウザの <strong>localStorage</strong> に保存されます（クラウド送信なし）。</p>
    </div>
    <div class="hero-pill">MVP / Local First</div>
  </header>

  <main class="container grid">
    <section class="card">
      <h2>プロフィール登録</h2>
      <form id="profileForm" class="form" novalidate>
        <label>お名前 <span class="req">*</span>
          <input type="text" id="childName" maxlength="30" required placeholder="例: はな" />
        </label>
        <label>生年月日 <span class="req">*</span>
          <input type="date" id="birthDate" required />
        </label>
        <label>メモ
          <textarea id="profileNote" rows="2" maxlength="120" placeholder="好きな食べ物など"></textarea>
        </label>
        <p class="error" id="profileError"></p>
        <button type="submit">プロフィールを保存</button>
      </form>
      <div id="profileView" class="profile-view"></div>
    </section>

    <section class="card">
      <h2>身長・体重の記録</h2>
      <form id="growthForm" class="form two-col" novalidate>
        <label>日付 <span class="req">*</span>
          <input type="date" id="recordDate" required />
        </label>
        <label>身長 (cm) <span class="req">*</span>
          <input type="number" id="height" min="30" max="220" step="0.1" required placeholder="例: 92.4" />
        </label>
        <label>体重 (kg) <span class="req">*</span>
          <input type="number" id="weight" min="1" max="120" step="0.1" required placeholder="例: 13.6" />
        </label>
        <label>メモ
          <input type="text" id="growthMemo" maxlength="80" placeholder="体調や出来事" />
        </label>
        <p class="error full" id="growthError"></p>
        <button type="submit" class="full">記録を追加</button>
      </form>
    </section>

    <section class="card">
      <h2>写真付き日記メモ</h2>
      <form id="diaryForm" class="form" novalidate>
        <label>日付 <span class="req">*</span>
          <input type="date" id="diaryDate" required />
        </label>
        <label>タイトル <span class="req">*</span>
          <input type="text" id="diaryTitle" required maxlength="50" placeholder="例: 公園で遊んだ" />
        </label>
        <label>内容 <span class="req">*</span>
          <textarea id="diaryText" rows="3" required maxlength="300"></textarea>
        </label>
        <label>写真（任意・最大2MB）
          <input type="file" id="diaryPhoto" accept="image/png,image/jpeg,image/webp" />
        </label>
        <p class="error" id="diaryError"></p>
        <button type="submit">日記を保存</button>
      </form>
    </section>

    <section class="card wide">
      <h2>成長グラフ（身長 / 体重）</h2>
      <canvas id="growthChart" width="900" height="320" aria-label="成長グラフ"></canvas>
      <small>※簡易グラフです。データが2件以上あると線が表示されます。</small>
    </section>

    <section class="card wide">
      <div class="list-head">
        <h2>記録一覧</h2>
        <button id="clearAll" class="danger" type="button">全データ削除</button>
      </div>

      <h3>身長・体重</h3>
      <div id="growthList" class="list"></div>

      <h3>日記メモ</h3>
      <div id="diaryList" class="list diary"></div>
    </section>
  </main>

  <template id="growthItemTpl">
    <article class="item">
      <div>
        <strong class="date"></strong>
        <p class="meta"></p>
      </div>
      <button class="danger small delete-growth" type="button">削除</button>
    </article>
  </template>

  <template id="diaryItemTpl">
    <article class="item diary-item">
      <div class="diary-content">
        <strong class="date"></strong>
        <p class="title"></p>
        <p class="text"></p>
        <img class="photo" alt="日記写真" />
      </div>
      <button class="danger small delete-diary" type="button">削除</button>
    </article>
  </template>

  <script src="app.js"></script>
</body>
</html>
